# SmartCalc v3.0

В данном проекте была реализована расширенная версия калькулятора. Главной особенностью данного проекта является то, что "Ядро" калькулятора в виде алгоритма формирования и вычисления польской нотации и различных вычислительных функций подключается в виде динамической библиотеки на C++ из проекта SmartCalc v2.0. Также был добавлен новый функционал - сохраение истории вычислений при помощи механизма сериализации, добавлена вкладка с руководством по использованию приложения, применен паттерн MVP. Помимо этого подготовлен полноценный установщик для систем Linux.

## Арифметические операторы

| Название оператора   | Инфиксная нотация <br /> (Классическая) | Префиксная нотация <br /> (Польская нотация) | Постфиксная нотация <br /> (Обратная польская нотация) |
| -------------------- | --------------------------------------- | -------------------------------------------- | ------------------------------------------------------ |
| Скобки               | (a + b)                                 | (+ a b)                                      | a b +                                                  |
| Сложение             | a + b                                   | + a b                                        | a b +                                                  |
| Вычитание            | a - b                                   | - a b                                        | a b -                                                  |
| Умножение            | a * b                                   | * a b                                        | a b *                                                  |
| Деление              | a / b                                   | / a b                                        | a b \                                                  |
| Возведение в степень | a ^ b                                   | ^ a b                                        | a b ^                                                  |
| Остаток от деления   | a mod b                                 | mod a b                                      | a b mod                                                |
| Унарный плюс         | +a                                      | +a                                           | a+                                                     |
| Унарный минус        | -a                                      | -a                                           | a-                                                     |

## Функции

| Описание функции               | Функция |
| ------------------------------ | ------- |
| Вычисляет косинус              | cos(x)  |
| Вычисляет синус                | sin(x)  |
| Вычисляет тангенс              | tan(x)  |
| Вычисляет арккосинус           | acos(x) |
| Вычисляет арксинус             | asin(x) |
| Вычисляет арктангенс           | atan(x) |
| Вычисляет квадратный корень    | sqrt(x) |
| Вычисляет натуральный логарифм | ln(x)   |
| Вычисляет десятичный логарифм  | log(x)  |

## Требования к проекту

- Программа должна быть разработана на языке Java версии 8;
- Необходимо разработать десктопное приложение с применением JavaFX;
- Подготовить установщик, который будет устанавливать приложение в систему со стандартными настройками (путь инсталляции, создание ярлыка);
- Подготовить полное покрытие unit-тестами методов, находящихся в слое модели;
- История должна сохраняться между запусками приложения;
- На вход программы могут подаваться как целые числа, так и вещественные числа, записанные и через точку, и в экспоненциальной форме записи.

## Запуск приложения

Для запуска тестов необходимо выполнить следующую команду:
```bash
mvn clean compile test
```

#### Способы установки :

1) __Через установщик:__

Для установки приложения необходимо перейти в директорию install и выполнить следующую команду:
```bash
sh Calc_unix_3_0.sh
```
После запустится установщик. Следуйте инструкциям.

__ВАЖНО__: установщик создан и работает корректно для Ubuntu 22.04.4 LTS. На иных дистрибутивах тестирование не проводилось.

2) __Через Maven:__

Сначала необходимо собрать архив с приложением. Для этого выполните следующую команду:
```bash
mvn clean package
```

После успешной сборки для запуска выполните следующую команду:
```bash
java -jar target/smart-calc.jar
```

__ВАЖНО__: если происходит ошибка - `(java:131647): Gdk-CRITICAL **:gdk_x11_display_set_window_scale: assertion 'GDK_IS_X11_DISPLAY (display)' failed`, то для запуска используйте команду, представленную ниже:
```bash
java -Djdk.gtk.version=2 -jar target/smart-calc.jar
```